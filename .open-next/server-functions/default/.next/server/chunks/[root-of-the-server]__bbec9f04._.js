module.exports=[59485,(e,t,s)=>{t.exports=e.x("@aws-sdk/client-s3",()=>require("@aws-sdk/client-s3"))},46786,(e,t,s)=>{t.exports=e.x("os",()=>require("os"))},12714,(e,t,s)=>{t.exports=e.x("node:fs/promises",()=>require("node:fs/promises"))},874,(e,t,s)=>{t.exports=e.x("buffer",()=>require("buffer"))},37037,e=>{"use strict";e.i(23502);var t,s,r,n,o,c,i=e.i(59485);e.i(14747),(t=n||(n={})).PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services",e.i(46786),e.i(12714);let a={},l={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),a[e]=t,l[t]=e}var u=e.i(874);(s=o||(o={}))[s.boolTrue=0]="boolTrue",s[s.boolFalse=1]="boolFalse",s[s.byte=2]="byte",s[s.short=3]="short",s[s.integer=4]="integer",s[s.long=5]="long",s[s.byteArray=6]="byteArray",s[s.string=7]="string",s[s.timestamp=8]="timestamp",s[s.uuid=9]="uuid";(r=c||(c={})).ENV="env",r.CONFIG="shared config entry";let d=process.env.CLOUDFLARE_BUCKET,C=process.env.CLOUDFLARE_FALLBACK_KEY||"noThumbnail.jpg",p=new i.S3Client({region:"auto",endpoint:`https://${process.env.CLOUDFLARE_ACCOUNT_ID}.r2.cloudflarestorage.com`,credentials:{accessKeyId:process.env.CLOUDFLARE_ACCESS_KEY_ID,secretAccessKey:process.env.CLOUDFLARE_SECRET_ACCESS_KEY},forcePathStyle:!0});async function y(e){try{let t=new i.HeadObjectCommand({Bucket:d,Key:e});await p.send(t);let s=new i.GetObjectCommand({Bucket:d,Key:e});return p.send(s)}catch(t){let e=new i.GetObjectCommand({Bucket:d,Key:C});return p.send(e)}}async function b(e,t,s){let r=new i.PutObjectCommand({Bucket:d,Key:e,Body:t,ContentType:s});return p.send(r)}async function m(e){if(0===e.length)return;let t=new i.DeleteObjectsCommand({Bucket:d,Delete:{Objects:e.map(e=>({Key:e}))}});return p.send(t)}e.s(["deleteObjects",()=>m,"getObject",()=>y,"putObject",()=>b],37037)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__bbec9f04._.js.map